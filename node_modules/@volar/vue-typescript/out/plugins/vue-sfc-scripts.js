"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const SourceMaps = require("@volar/source-map");
const sourceMaps_1 = require("../utils/sourceMaps");
function default_1() {
    return {
        getEmbeddedFilesCount(sfc) {
            return 2;
        },
        getEmbeddedFile(fileName, sfc, i) {
            const script = i === 0 ? sfc.script : sfc.scriptSetup;
            if (!script)
                return;
            const file = {
                fileName: fileName + '.__VLS_script.format.' + script.lang,
                lang: script.lang,
                content: script.content,
                capabilities: {
                    diagnostics: false,
                    foldingRanges: true,
                    formatting: true,
                    documentSymbol: true,
                    codeActions: false,
                    inlayHints: false,
                },
                isTsHostFile: false,
            };
            const sourceMap = new sourceMaps_1.EmbeddedFileSourceMap();
            sourceMap.mappings.push({
                data: {
                    vueTag: script.tag,
                    capabilities: {},
                },
                mode: SourceMaps.Mode.Offset,
                sourceRange: {
                    start: 0,
                    end: script.content.length,
                },
                mappedRange: {
                    start: 0,
                    end: script.content.length,
                },
            });
            const embedded = {
                file,
                sourceMap,
            };
            return embedded;
        },
    };
}
exports.default = default_1;
//# sourceMappingURL=vue-sfc-scripts.js.map